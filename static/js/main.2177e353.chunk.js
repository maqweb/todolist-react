(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(t,e,n){},21:function(t,e,n){t.exports=n.p+"static/media/trash.665926e2.svg"},44:function(t,e,n){t.exports=n(77)},49:function(t,e,n){},77:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),r=n(20),i=n.n(r),s=n(16);n(49),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(2),l=n(13),u=n(4),d=n(3),p=n(5),f=(n(15),n(10)),m=n(18),h=n(40),v=n.n(h).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.1/",headers:{"API-KEY":"6ab52400-1718-48c6-9e57-f24fa6232ed9"}}),b=function(){return v.get("auth/me")},g=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return v.post("auth/login",{email:t,password:e,rememberMe:n,captcha:a})},O=function(){return v.delete("auth/login")},k=function(){return v.get("todo-lists/")},T=function(t){return v.get("todo-lists/".concat(t,"/tasks"))},E=function(t){return v.post("todo-lists/",{title:t})},y=function(t,e){return v.post("todo-lists/".concat(t,"/tasks"),{title:e})},j=function(t){return v.delete("todo-lists/".concat(t))},w=function(t,e){return v.delete("todo-lists/".concat(t,"/tasks/").concat(e))},C=function(t,e,n){return v.put("todo-lists/".concat(t,"/tasks/").concat(e),n)},A=function(t,e){return v.put("todo-lists/".concat(t),{title:e})};function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(n,!0).forEach(function(e){Object(m.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var D={email:"",password:"",rememberMe:!1,isAuth:!1},M=function(t,e){return{type:"LOGIN",data:t,isAuth:e}},N=function(t){return{type:"AUTH_ME",value:t}},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"AUTH_ME":return I({},t,{isAuth:e.value});case"LOGIN":return I({},t,{email:e.data.email,password:e.data.password,rememberMe:e.data.rememberMe,isAuth:e.isAuth});default:return t}},L=n(14),F=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(o)))).state={email:"",password:"",rememberMe:!1},n.onChangeEmail=function(t){n.setState({email:t.currentTarget.value})},n.onChangePassword=function(t){n.setState({password:t.currentTarget.value})},n.onRememberMe=function(t){n.setState({rememberMe:t.currentTarget.checked})},n.onSendData=function(t){t.preventDefault(),n.props.login(n.state.email,n.state.password,n.state.rememberMe)},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return this.props.isAuth?o.a.createElement(L.a,{to:"/main"}):o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("p",null,"test account: free@samuraijs.com"),o.a.createElement("p",null,"password: free")),o.a.createElement("form",{className:"form"},o.a.createElement("input",{value:this.state.email,placeholder:"email",onChange:this.onChangeEmail,type:"text"}),o.a.createElement("input",{value:this.state.password,placeholder:"password",onChange:this.onChangePassword,type:"password"}),o.a.createElement("div",null,o.a.createElement("label",null,o.a.createElement("input",{onChange:this.onRememberMe,checked:this.state.rememberMe,type:"checkbox"}),"Remember me"),o.a.createElement("button",{onClick:this.onSendData},"Login"))))}}]),e}(o.a.Component),R=Object(f.b)(function(t){return{email:t.auth.email,password:t.auth.password,rememberMe:t.auth.rememberMe,isAuth:t.auth.isAuth}},{login:function(t,e,n){return function(a){g(t,e,n).then(function(t){200===t.status&&a(M(t.data,!0))})}}})(F),H=n(21),V=n.n(H),K=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={editMode:!1,title:n.props.task.title},n.onIsDoneChanged=function(t){switch(t.currentTarget.checked?2:0){case 2:return n.props.changeStatus(n.props.task.id,2);default:return n.props.changeStatus(n.props.task.id,0)}},n.onTitleChanged=function(t){n.setState({title:t.currentTarget.value})},n.activateEditMode=function(){n.setState({editMode:!0})},n.deactivateEditMode=function(){n.props.changeTitle(n.props.task.id,n.state.title),n.setState({editMode:!1})},n.onDeleteTask=function(){n.props.onRemoveTask(n.props.task.id)},n.render=function(){var t=2===n.props.task.status?"done":"",e="";switch(n.props.task.priority){case 0:e="Low";break;case 1:e="Middle";break;case 2:e="High";break;case 3:e="Urgently";break;case 4:e="Later";break;default:e=""}return o.a.createElement("div",{className:"todoList-task"},o.a.createElement("div",null,o.a.createElement("input",{type:"checkbox",checked:2===n.props.task.status,onChange:n.onIsDoneChanged}),n.state.editMode?o.a.createElement("input",{onBlur:n.deactivateEditMode,autoFocus:!0,onChange:n.onTitleChanged,value:n.state.title,type:"text"}):o.a.createElement("span",{onClick:n.activateEditMode,className:t}," ",n.state.title),o.a.createElement("span",null," - priority: ",e)),o.a.createElement("button",{className:"btn-task",onClick:n.onDeleteTask},o.a.createElement("img",{className:"del-icon",src:V.a,alt:""})))},n}return Object(p.a)(e,t),e}(o.a.Component),_=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).render=function(){var t=n.props.tasks.map(function(t){return o.a.createElement(K,{key:t.id,task:t,changeStatus:n.props.changeStatus,changeTitle:n.props.changeTitle,onRemoveTask:n.props.onRemoveTask})});return o.a.createElement("div",{className:"todoList-tasks"},t)},n}return Object(p.a)(e,t),e}(o.a.Component),x=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={isHidden:!1},n.onAllFilterClick=function(){n.props.changeFilter("All")},n.onCompletedFilterClick=function(){n.props.changeFilter("Completed")},n.onActiveFilterClick=function(){n.props.changeFilter("Active")},n.onShowFiltersClick=function(){n.setState({isHidden:!0})},n.onHideFiltersClick=function(){n.setState({isHidden:!1})},n.render=function(t){var e="All"===n.props.filterValue?"active":"",a="Completed"===n.props.filterValue?"active":"",r="Active"===n.props.filterValue?"active":"";return o.a.createElement("div",{className:"todoList-footer"},!n.state.isHidden&&o.a.createElement("button",{onClick:n.onShowFiltersClick},"hide"),n.state.isHidden&&o.a.createElement("button",{onClick:n.onHideFiltersClick},"show"),!n.state.isHidden&&o.a.createElement("div",{className:"filter-buttons"},o.a.createElement("button",{onClick:n.onAllFilterClick,className:e},"All"),o.a.createElement("button",{onClick:n.onCompletedFilterClick,className:a},"Completed"),o.a.createElement("button",{onClick:n.onActiveFilterClick,className:r},"Active")))},n}return Object(p.a)(e,t),e}(o.a.Component),G=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={editMode:!1,title:n.props.title},n.activateEditMode=function(){n.setState({editMode:!0})},n.deactivateEditMode=function(){n.setState({editMode:!1}),n.props.onChangeTodolistTitle(n.props.id,n.state.title)},n.onTitleChanged=function(t){n.setState({title:t.currentTarget.value})},n.render=function(){return o.a.createElement("div",{className:"todolist-title"},n.state.editMode?o.a.createElement("input",{value:n.state.title,className:"editTitleInput",onBlur:n.deactivateEditMode,onChange:n.onTitleChanged,autoFocus:!0,type:"text"}):o.a.createElement("h3",{className:"todoList-header__title",onClick:n.activateEditMode},n.state.title),o.a.createElement("button",{onClick:n.props.onRemoveTodolist,className:"btn btn-title"},o.a.createElement("img",{className:"del-icon",src:V.a,alt:""})))},n}return Object(p.a)(e,t),e}(o.a.Component),B=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={error:!1,title:""},n.onAddItemClick=function(){var t=n.state.title;n.setState({title:""}),""===t.trim()?n.setState({error:!0}):(n.props.addItem(t),n.setState({error:!1}))},n.onInputChange=function(t){n.setState({error:!1,title:t.currentTarget.value})},n.onKeyPress=function(t){"Enter"===t.key&&(n.onAddItemClick(),n.setState({title:""}))},n.render=function(){var t=!0===n.state.error?"error":"";return o.a.createElement("div",{className:"todoList-newTaskForm"},o.a.createElement("input",{type:"text",onChange:n.onInputChange,onKeyPress:n.onKeyPress,className:"input ".concat(t),value:n.state.title,placeholder:"New item name"}),o.a.createElement("button",{onClick:n.onAddItemClick},"Add"))},n}return Object(p.a)(e,t),e}(o.a.Component),U=n(28);function J(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?J(n,!0).forEach(function(e){Object(m.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Y={todolists:[]},$=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_TODOLIST":return W({},t,{todolists:e.todolists.map(function(t){return W({},t,{tasks:[]})})});case"ADD-TODOLIST":return W({},t,{todolists:[e.newTodolist].concat(Object(U.a)(t.todolists))});case"REMOVE-TODOLIST":return W({},t,{todolists:t.todolists.filter(function(t){return t.id!==e.todolistId})});case"CHANGE_TODOLIST_TITLE":return W({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?W({},t,{title:e.newTitle}):t})});case"SET_TASKS":return W({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?W({},t,{tasks:e.tasks}):t})});case"ADD-TASK":return W({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?W({},t,{tasks:[e.newTask].concat(Object(U.a)(t.tasks))}):t})});case"REMOVE-TASK":return W({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?W({},t,{tasks:t.tasks.filter(function(t){return t.id!==e.taskId})}):t})});case"CHANGE-TASK":return W({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?W({},t,{tasks:t.tasks.map(function(t){return t.id===e.taskId?W({},t,{},e.updatedTask):t})}):t})});default:return t}};function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}var z=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={tasks:[],filterValue:"All"},n.changeFilter=function(t){n.setState({filterValue:t})},n.restoreState=function(){n.props.getTasks(n.props.id)},n.addItem=function(t){n.props.addTask(n.props.id,t)},n.changeStatus=function(t,e){n.onChangeTask(t,{status:e})},n.changeTitle=function(t,e){n.onChangeTask(t,{title:e})},n.onChangeTodolistTitle=function(t,e){n.props.changeTodolistTitle(t,e)},n.onChangeTask=function(t,e){var a=n.props.tasks.find(function(e){return e.id===t}),o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(n,!0).forEach(function(e){Object(m.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({title:a.title,description:a.description,completed:a.completed,status:a.status,priority:a.priority,startDate:a.startDate,deadline:a.deadline},e);n.props.changeTask(n.props.id,t,o)},n.onRemoveTodolist=function(){n.props.removeTodolist(n.props.id)},n.onRemoveTask=function(t){n.props.removeTask(n.props.id,t)},n.render=function(){var t=n.props.tasks,e=void 0===t?[]:t;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"todoList"},o.a.createElement("div",{className:"todoList-header"},o.a.createElement(G,{id:n.props.id,title:n.props.title,onRemoveTodolist:n.onRemoveTodolist,onChangeTodolistTitle:n.onChangeTodolistTitle}),o.a.createElement(B,{addItem:n.addItem})),o.a.createElement(_,{tasks:function(t){return t.filter(function(t){return"Active"===n.state.filterValue?0===t.status:"Completed"!==n.state.filterValue||2===t.status})}(e),changeStatus:n.changeStatus,changeTitle:n.changeTitle,onRemoveTask:n.onRemoveTask}),o.a.createElement(x,{filterValue:n.state.filterValue,changeFilter:n.changeFilter})))},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(o.a.Component),Q=Object(f.b)(null,function(t){return{getTasks:function(e){var n=function(t){return function(e){T(t).then(function(n){var a=n.data.items;e({type:"SET_TASKS",tasks:a,todolistId:t})})}}(e);t(n)},addTask:function(e,n){var a=function(t,e){return function(n){y(t,e).then(function(e){var a=e.data.data.item;n(function(t,e){return{type:"ADD-TASK",todolistId:t,newTask:e}}(t,a))})}}(e,n);t(a)},changeTask:function(e,n,a){var o=function(t,e,n){return function(a){C(t,e,n).then(function(o){a(function(t,e,n){return{type:"CHANGE-TASK",todolistId:t,taskId:e,updatedTask:n}}(t,e,n))})}}(e,n,a);t(o)},removeTodolist:function(e){var n=function(t){return function(e){j(t).then(function(n){e(function(t){return{type:"REMOVE-TODOLIST",todolistId:t}}(t))})}}(e);t(n)},removeTask:function(e,n){var a=function(t,e){return function(n){w(t,e).then(function(a){n(function(t,e){return{type:"REMOVE-TASK",todolistId:t,taskId:e}}(t,e))})}}(e,n);t(a)},changeTodolistTitle:function(e,n){var a=function(t,e){return function(n){A(t,e).then(function(a){n(function(t,e){return{type:"CHANGE_TODOLIST_TITLE",todolistId:t,newTitle:e}}(t,e))})}}(e,n);t(a)}}})(z),X=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(o)))).restoreState=function(){n.props.getTodolists()},n.addTodoList=function(t){n.props.addTodolist(t)},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}},{key:"render",value:function(){if(!this.props.isAuth)return o.a.createElement(L.a,{to:"/login"});var t=this.props.todolists.map(function(t){return o.a.createElement(Q,{id:t.id,key:t.id,title:t.title,tasks:t.tasks})});return o.a.createElement("div",null,o.a.createElement("div",{className:"mainInput"},o.a.createElement(B,{addItem:this.addTodoList})),o.a.createElement("div",{className:"App"},t))}}]),e}(a.Component),Z=Object(f.b)(function(t){return{todolists:t.main.todolists,tasks:t.main.todolists.tasks,isAuth:t.auth.isAuth}},function(t){return{addTodolist:function(e){var n=function(t){return function(e){E(t).then(function(t){var n=t.data.data.item;e(function(t){return{type:"ADD-TODOLIST",newTodolist:t}}(n))})}}(e);t(n)},getTodolists:function(){var e=function(t){k().then(function(e){t({type:"SET_TODOLIST",todolists:e.data})})};t(e)}}})(X),tt=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).onLogout=function(){n.props.logout()},n.render=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,n.props.isAuth?o.a.createElement("button",{onClick:n.onLogout},"Logout"):o.a.createElement(s.b,{to:"/login"},"Login"),o.a.createElement(s.b,{to:"/main"},"Todolist")),o.a.createElement("div",{className:"content"},o.a.createElement(L.b,{path:"/login",component:R}),o.a.createElement(L.b,{path:"/main",component:Z})))},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.props.authMe()}}]),e}(o.a.Component),et=Object(f.b)(function(t){return{isAuth:t.auth.isAuth}},{authMe:function(){return function(t){b().then(function(e){0===e.data.resultCode?t(N(!0)):t(N(!1))})}},logout:function(){return function(t){O().then(function(e){200===e.status&&t(M(e.data,!1))})}}})(tt),nt=n(19),at=n(43),ot=Object(nt.c)({auth:P,main:$}),rt=Object(nt.d)(ot,Object(nt.a)(at.a));i.a.render(o.a.createElement(s.a,null,o.a.createElement(f.a,{store:rt},o.a.createElement(et,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[44,1,2]]]);
//# sourceMappingURL=main.2177e353.chunk.js.map