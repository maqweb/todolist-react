(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,n){},29:function(t,e,n){t.exports=n(60)},34:function(t,e,n){},60:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),r=n(11),s=n.n(r);n(34),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=n(1),c=n(12),l=n(3),d=n(2),u=n(4),p=(n(10),n(13)),f=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={editMode:!1},n.onIsDoneChanged=function(t){switch(t.currentTarget.checked?2:0){case 2:return n.props.changeStatus(n.props.task.id,2);default:return n.props.changeStatus(n.props.task.id,0)}},n.onTitleChanged=function(t){n.props.changeTitle(n.props.task.id,t.currentTarget.value)},n.activateEditMode=function(){n.setState({editMode:!0})},n.deactivateEditMode=function(){n.setState({editMode:!1})},n.onDeleteTask=function(){n.props.removeTask(n.props.task.id)},n.render=function(){var t="high"===n.props.task.priority?"highPriority":"medium"===n.props.task.priority?"mediumPriority":"low"===n.props.task.priority?"lowPriority":"noPriority",e=!0===n.props.task.isDone?"done":"";return o.a.createElement("div",{className:"todoList-task"},2===n.props.task.status?o.a.createElement("input",{type:"checkbox",checked:!0,onChange:n.onIsDoneChanged}):o.a.createElement("input",{type:"checkbox",checked:!1,onChange:n.onIsDoneChanged}),n.state.editMode?o.a.createElement("input",{onBlur:n.deactivateEditMode,autoFocus:!0,onChange:n.onTitleChanged,value:n.props.task.title,type:"text"}):o.a.createElement("span",{onClick:n.activateEditMode,className:"".concat(t," ").concat(e)}," ",n.props.task.title),o.a.createElement("span",null," - priority: ",n.props.task.priority),o.a.createElement("button",{className:"btn-tasks",onClick:n.onDeleteTask},"X"))},n}return Object(u.a)(e,t),e}(o.a.Component),m=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).render=function(){var t=n.props.tasks.map(function(t){return o.a.createElement(f,{key:t.id,task:t,changeStatus:n.props.changeStatus,changeTitle:n.props.changeTitle,removeTask:n.props.removeTask})});return o.a.createElement("div",{className:"todoList-tasks"},t)},n}return Object(u.a)(e,t),e}(o.a.Component),h=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={isHidden:!1},n.onAllFilterClick=function(){n.props.changeFilter("All")},n.onCompletedFilterClick=function(){n.props.changeFilter("Completed")},n.onActiveFilterClick=function(){n.props.changeFilter("Active")},n.onShowFiltersClick=function(){n.setState({isHidden:!0})},n.onHideFiltersClick=function(){n.setState({isHidden:!1})},n.render=function(t){var e="All"===n.props.filterValue?"active":"",a="Completed"===n.props.filterValue?"active":"",r="Active"===n.props.filterValue?"active":"";return o.a.createElement("div",{className:"todoList-footer"},!n.state.isHidden&&o.a.createElement("div",null,o.a.createElement("button",{onClick:n.onAllFilterClick,className:e},"All"),o.a.createElement("button",{onClick:n.onCompletedFilterClick,className:a},"Completed"),o.a.createElement("button",{onClick:n.onActiveFilterClick,className:r},"Active")),!n.state.isHidden&&o.a.createElement("button",{onClick:n.onShowFiltersClick},"hide"),n.state.isHidden&&o.a.createElement("button",{onClick:n.onHideFiltersClick},"show"))},n}return Object(u.a)(e,t),e}(o.a.Component),k=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).render=function(){return o.a.createElement("div",null,o.a.createElement("h3",{className:"todoList-header__title"},n.props.title),o.a.createElement("button",{onClick:n.props.removeTodolist,className:"btn"},"X"))},n}return Object(u.a)(e,t),e}(o.a.Component),v=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={error:!1,title:""},n.onAddItemClick=function(){var t=n.state.title;n.setState({title:""}),""===t.trim()?n.setState({error:!0}):(n.props.addItem(t),n.setState({error:!1}))},n.onInputChange=function(t){n.setState({error:!1,title:t.currentTarget.value})},n.onKeyPress=function(t){"Enter"===t.key&&(n.onAddItemClick(),n.setState({title:""}))},n.render=function(){var t=!0===n.state.error?"error":"";return o.a.createElement("div",{className:"todoList-newTaskForm"},o.a.createElement("input",{type:"text",onChange:n.onInputChange,onKeyPress:n.onKeyPress,className:t,value:n.state.title,placeholder:"New item name"}),o.a.createElement("button",{onClick:n.onAddItemClick},"Add"))},n}return Object(u.a)(e,t),e}(o.a.Component),b=n(9),O=n(17);function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(n,!0).forEach(function(e){Object(p.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var y={todolists:[]},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_TODOLIST":return T({},t,{todolists:e.todolists.map(function(t){return T({},t,{tasks:[]})})});case"ADD-TODOLIST":return T({},t,{todolists:[e.newTodolist].concat(Object(O.a)(t.todolists))});case"REMOVE-TODOLIST":return T({},t,{todolists:t.todolists.filter(function(t){return t.id!==e.todolistId})});case"SET_TASKS":return T({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?T({},t,{tasks:e.tasks}):t})});case"ADD-TASK":return T({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?T({},t,{tasks:[e.newTask].concat(Object(O.a)(t.tasks))}):t})});case"REMOVE-TASK":return T({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?T({},t,{tasks:t.tasks.filter(function(t){return t.id!==e.taskId})}):t})});case"CHANGE-TASK":return T({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?T({},t,{tasks:t.tasks.map(function(t){return t.id===e.taskId?T({},t,{},e.obj):t})}):t})});default:return t}},j=n(7),C=n.n(j);function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}var A=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={tasks:[],filterValue:"All"},n.changeFilter=function(t){n.setState({filterValue:t},function(){n.saveState()})},n.restoreState=function(){C.a.get("https://social-network.samuraijs.com/api/1.1/todo-lists/".concat(n.props.id,"/tasks"),{withCredentials:!0,headers:{"API-KEY":"6ab52400-1718-48c6-9e57-f24fa6232ed9"}}).then(function(t){var e=t.data.items;n.props.setTasks(e,n.props.id)})},n.addItem=function(t){C.a.post("https://social-network.samuraijs.com/api/1.1/todo-lists/".concat(n.props.id,"/tasks"),{title:t},{withCredentials:!0,headers:{"API-KEY":"6ab52400-1718-48c6-9e57-f24fa6232ed9"}}).then(function(t){var e=t.data.data.item;n.props.addTask(e,n.props.id)})},n.changeStatus=function(t,e){n.changeTask(t,{status:e})},n.changeTitle=function(t,e,a){n.changeTask(t,{title:e},a)},n.changeTask=function(t,e){var a=n.props.tasks.find(function(e){return e.id===t}),o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(n,!0).forEach(function(e){Object(p.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({title:a.title,description:a.description,completed:a.completed,status:a.status,priority:a.priority,startDate:a.startDate,deadline:a.deadline},e);C.a.put("https://social-network.samuraijs.com/api/1.1/todo-lists/".concat(n.props.id,"/tasks/").concat(t),o,{withCredentials:!0,headers:{"API-KEY":"6ab52400-1718-48c6-9e57-f24fa6232ed9"}}).then(function(a){var o=a.data.data.item.status;console.log(o),n.props.changeTaskAC(t,e,n.props.id)})},n.removeTodolist=function(){C.a.delete("https://social-network.samuraijs.com/api/1.1/todo-lists/".concat(n.props.id),{withCredentials:!0,headers:{"API-KEY":"6ab52400-1718-48c6-9e57-f24fa6232ed9"}}).then(function(t){n.props.removeTodolistAC(n.props.id)})},n.removeTask=function(t){C.a.delete("https://social-network.samuraijs.com/api/1.1/todo-lists/".concat(n.props.id,"/tasks/").concat(t),{withCredentials:!0,headers:{"API-KEY":"6ab52400-1718-48c6-9e57-f24fa6232ed9"}}).then(function(e){n.props.removeTask(n.props.id,t)})},n.render=function(){var t=n.props.tasks,e=void 0===t?[]:t;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"todoList"},o.a.createElement("div",{className:"todoList-header"},o.a.createElement(k,{id:n.props.id,title:n.props.title,removeTodolist:n.removeTodolist}),o.a.createElement(v,{addItem:n.addItem})),o.a.createElement(m,{tasks:function(t){return t.filter(function(t){return"Active"===n.props.filterValue?!1===t.isDone:"Completed"!==n.props.filterValue||!0===t.isDone})}(e),changeStatus:n.changeStatus,changeTitle:n.changeTitle,removeTask:n.removeTask}),o.a.createElement(h,{filterValue:n.state.filterValue,changeFilter:n.changeFilter})))},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(o.a.Component),S=Object(b.b)(null,function(t){return{setTasks:function(e,n){var a=function(t,e){return{type:"SET_TASKS",tasks:t,todolistId:e}}(e,n);t(a)},addTask:function(e,n){var a=function(t,e){return{type:"ADD-TASK",newTask:t,todolistId:e}}(e,n);t(a)},changeTaskAC:function(e,n,a){var o=function(t,e,n){return{type:"CHANGE-TASK",taskId:t,obj:e,todolistId:n}}(e,n,a);t(o)},removeTodolistAC:function(e){var n=function(t){return{type:"REMOVE-TODOLIST",todolistId:t}}(e);t(n)},removeTask:function(e,n){var a=function(t,e){return{type:"REMOVE-TASK",todolistId:t,taskId:e}}(e,n);t(a)}}})(A),I=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).restoreState=function(){C.a.get("https://social-network.samuraijs.com/api/1.1/todo-lists",{withCredentials:!0,headers:{"API-KEY":"6ab52400-1718-48c6-9e57-f24fa6232ed9"}}).then(function(t){n.props.setTodolist(t.data)})},n.addTodoList=function(t){C.a.post("https://social-network.samuraijs.com/api/1.1/todo-lists",{title:t},{withCredentials:!0,headers:{"API-KEY":"6ab52400-1718-48c6-9e57-f24fa6232ed9"}}).then(function(t){var e=t.data.data.item;n.props.addTodolist(e)})},n.render=function(){var t=n.props.todolists.map(function(t){return o.a.createElement(S,{id:t.id,key:t.id,title:t.title,tasks:t.tasks})});return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"mainInput"},o.a.createElement(v,{addItem:n.addTodoList})),o.a.createElement("div",{className:"App"},t))},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(o.a.Component),D=Object(b.b)(function(t){return{todolists:t.todolists,tasks:t.todolists.tasks}},function(t){return{addTodolist:function(e){var n=function(t){return{type:"ADD-TODOLIST",newTodolist:t}}(e);t(n)},setTodolist:function(e){var n={type:"SET_TODOLIST",todolists:e};t(n)}}})(I),P=n(14),N=Object(P.b)(E);s.a.render(o.a.createElement(b.a,{store:N},o.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.0634415e.chunk.js.map